@(title: String, roomDefForm: Form[models.fhs.pages.roomdefinition.MRoomdefintion], weekdays: Seq[(String, String)], existingRooms: List[models.fhs.pages.roomdefinition.MRoomdisplay])

@import helper._
@import helper.twitterBootstrap._

@main(title, CRoomDefinition.NAV) {
    @partial.timeslotcrit(weekdays)
    <div class="page-header">
        <h1> Räume </h1>
    </div>

    <div class="clearfix">
        <div class="row-fluid">
            <div class="col-md-5">
            @form(action = routes.CRoomDefinition.submitRoom, 'class -> "span2  form-inline") {

                <fieldset>
                    @inputText(roomDefForm("number"), '_class -> "form-group span1", '_label -> "Nummer", '_help -> "Raumnummer")

                    @inputText(roomDefForm("house"), '_class -> "form-group span1", '_label -> "Haus", '_help -> "Gebäude")
                    <br/>
                    @inputText(roomDefForm("capacity"), '_class -> "form-group span1", '_label -> "Kapazität", '_help -> "Wieviele Personen?")
                    <br/>
                    @checkbox(roomDefForm("pcpool"), '_class -> "form-group span2", '_label -> "PC Pool", '_help -> "Ist PC Pool?")
                    @checkbox(roomDefForm("beamer"), '_class -> "form-group span2", '_label -> "Beamer", '_help -> "hat Beamer?")
                </fieldset>
                <fieldset>
                    <label for="addTcrit" class="control-label" >Eingeschränkte Verfügbarkeit </label>
                    <input id="addTcrit" class="btn btn-warning btn-sm span1" value="+" onclick="addTimeCritInput ( ) ;" />
                    <div id="timeslotcrit" />
                </fieldset>
                <fieldset style="margin-top : 1%">
                    <div class="form-group ">
                        <span class=" btn-group span4"><input type="submit" class="form-control btn btn-success " value="senden" /> </span>
                        <span class=" btn-group span2">
                            <a href="@routes.CRoomDefinition.page" class=" btn btn-danger form-control " role="button">
                                Abbrechen
                            </a>
                        </span>
                    </div>
                </fieldset>
            }
            </div>
        </div>
            <!-- Display existing Rooms -->
        <div class="row-fluid ">
            <div class="col-md-6">
                <table class="table table-striped table-hover table-condensed" style="text-align: center">
                    <thead>
                        <tr class="text-info">
                            <th>Haus</th>
                            <th>Nummer</th>
                            <th>Kapazität</th>
                            <th>Beamer</th>
                            <th>PC Pool</th>
                            <th>Verfügbar</th>
                        </tr>
                    </thead>
                    <tbody>
                    @for(room <- existingRooms) {
                        <tr>
                            <td>
                            @room.house
                            </td>
                            <td>
                            @room.number
                            </td>
                            <td>
                            @room.capacity
                            </td>
                            <td>
                                <input type="checkbox" disabled class="disabled checkbox" @if(room.beamer) {checked="checked" } />
                            </td>
                            <td>
                                <input type="checkbox" disabled class="disabled checkbox" @if(room.pcpools) {checked="checked" } />
                            </td>
                            <td>
                            @if(room.timeCriterias.isEmpty) {
                                Immer
                            } else {
                                @for(tcrit <- room.timeCriterias) {
                                    @tcrit.weekday.substring(0, 2) @tcrit.startHour.formatted("%02d") : @tcrit.startMinutes.formatted("%02d") - @tcrit.stopHour.formatted("%02d") : @tcrit.stopMinutes.formatted("%02d") <br/>
                                }
                            }

                            </td>
                        </tr>
                    }
                    </tbody>

                </table>
            </div>
        </div>
    </div>

}