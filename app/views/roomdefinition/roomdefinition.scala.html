@(title: String, roomDefForm: Form[models.fhs.pages.roomdefinition.MRoomdefintion], weekdays: Seq[(String, String)], existingRooms: List[models.fhs.pages.roomdefinition.MRoomdisplay])
    @import models.fhs.pages.roomdefinition._

    @import helper._
    @import helper.twitterBootstrap._


    @main(title, CRoomDefinition.NAV) {

        <div class="page-header">
            <h1> Räume </h1>
        </div>

        <div class="clearfix">
            <div class="row-fluid">
                <div class="col-md-5">
                    @form(action = routes.CRoomDefinition.submitRoom, 'class -> "span2  form-inline") {

                        <fieldset>
                            @inputText(roomDefForm("house"), '_class -> "form-group span1", '_label -> "Haus", '_help -> "Gebäude")

                            @inputText(roomDefForm("number"), '_class -> "form-group span1", '_label -> "Nummer", '_help -> "Raumnummer")
                            <br/>
                            @inputText(roomDefForm("capacity"), '_class -> "form-group span1", '_label -> "Kapazität", '_help -> "Wieviele Personen?")
                            <br/>

                            <label class="control-label" for="attributes" style="display : block ;">
                                Eigenschaften
                            </label>
                            <select id="attributes" name="attributes[]" multiple title="nichts Ausgewählt">
                            @for(attr <- MRoomdefintion.ATTRIBUTES) {
                                <option value="@attr">@attr</option>
                            }
                            </select>

                        </fieldset>
                        <fieldset>
                            <label for="addTcrit" class="control-label" >Eingeschränkte Verfügbarkeit </label>
                            <button role="button" type="button" id="addTcrit" class="btn btn-warning btn-sm span1" ><span class="glyphicon glyphicon-plus"></span> </button>
                            <button id="removeCritButton" role="button" type="button" class="btn btn-danger btn-sm span1" ><span class="glyphicon glyphicon-minus"></span> </button>
                            <div id="timeslotcrit" ></div>
                        </fieldset>
                        <fieldset style="margin-top : 1%">
                            <div class="form-group ">
                                <span class=" btn-group span4"><button type="submit" class="form-control btn btn-success " > <span class="glyphicon glyphicon-ok-sign"></span> </button> </span>
                                <span class=" btn-group span2">
                                    <a href="@routes.CRoomDefinition.page" class=" btn btn-danger form-control " role="button">
                                        <span class="glyphicon glyphicon-ban-circle"></span>
                                    </a>
                                </span>
                            </div>
                        </fieldset>
                    }

                    <script type="text/javascript">
                    var i = 0 ;



                    var addTimeslotCritInput = function ( ) {
                    $.getJSON ( '/roomcritfields/' + i, function ( data ) {
                    $ ( '#timeslotcrit' ).append ( data.htmlresult ) ;
                    initSelect ( ) ;
                    i ++ ;
                    } ) ;
                    } ;

                    var removeTimeCritInput = function ( ) {
                    if ( i > 0 ) {
                    i -- ;
                    $ ( "#timeCriterias_" + i ).remove ( ) ;
                    }



                    } ;
                    $ ( '#removeCritButton' ).on ( 'click', removeTimeCritInput ) ;
                    $ ( '#addTcrit' ).on ( 'click', addTimeslotCritInput ) ;


                    </script>

                </div>
            </div>
                <!-- Display existing Rooms -->
            <div class="row-fluid ">
                <div class="col-md-7">
                    <table class="table table-striped table-hover table-condensed" style="text-align : center">
                        <thead>
                            <tr class="text-info">
                                <th>Haus</th>
                                <th>Nummer</th>
                                <th>Kapazität</th>
                                @for(e <- MRoomdefintion.ATTRIBUTES) {
                                    <th>@e</th>
                                }

                                <th>Verfügbar</th>
                            </tr>
                        </thead>
                        <tbody>
                        @for(roomEntity <- existingRooms) {
                            <tr>
                                <td>
                                @roomEntity.house
                                </td>
                                <td>
                                @roomEntity.number
                                </td>
                                <td>
                                @roomEntity.capacity
                                </td>
                                @for(e <- MRoomdefintion.ATTRIBUTES) {
                                    <td>
                                        <span class="glyphicon  @if(roomEntity.roomAttributes.filter(_.getAttribute.equalsIgnoreCase(e))) { glyphicon-ok } else { glyphicon-remove } " ></span>
                                    </td>
                                }

                                <td>
                                @if(roomEntity.timeCriterias.isEmpty) {
                                    Immer
                                } else {
                                    @for(tcrit <- roomEntity.timeCriterias) {
                                        @tcrit.weekday.substring(0, 2) @tcrit.startHour.formatted("%02d") : @tcrit.startMinutes.formatted("%02d") - @tcrit.stopHour.formatted("%02d") : @tcrit.stopMinutes.formatted("%02d") <br/>
                                    }
                                }

                                </td>
                            </tr>
                        }
                        </tbody>

                    </table>
                </div>
            </div>
        </div>

    }